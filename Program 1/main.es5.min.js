"use strict";var mainState={preload:function(){game.load.image("player","assets/Curry.png");game.load.image("wallV","assets/wallVertical.png");game.load.image("wallH","assets/wallHorizontal.png");game.load.image("coin","assets/Basket.png")},create:function(){game.stage.backgroundColor="#3498db";game.physics.startSystem(Phaser.Physics.ARCADE);game.renderer.renderSession.roundPixels=!0;this.player=game.add.sprite(game.width/2,game.height/2,"player");this.player.anchor.setTo(0,0);this.player.anchor.setTo(1,0);this.player.anchor.setTo(0,1);this.player.anchor.setTo(1,1);this.player.anchor.setTo(.5,.5);game.physics.arcade.enable(this.player);this.player.body.gravity.y=500;this.cursor=game.input.keyboard.createCursorKeys();this.createWorld();this.coin=game.add.sprite(60,140,"coin");game.physics.arcade.enable(this.coin);this.coin.anchor.setTo(.5,.5);this.scoreLabel=game.add.text(30,30,"score: 0",{font:"18px Arial",fill:"#ffffff"});this.score=0},createWorld:function(){var n,t;this.walls=game.add.group();this.walls.enableBody=!0;game.add.sprite(0,0,"wallV",0,this.walls);game.add.sprite(480,0,"wallV",0,this.walls);game.add.sprite(0,0,"wallH",0,this.walls);game.add.sprite(300,0,"wallH",0,this.walls);game.add.sprite(0,320,"wallH",0,this.walls);game.add.sprite(300,320,"wallH",0,this.walls);game.add.sprite(-100,160,"wallH",0,this.walls);game.add.sprite(400,160,"wallH",0,this.walls);n=game.add.sprite(100,80,"wallH",0,this.walls);n.scale.setTo(1.5,1);t=game.add.sprite(100,240,"wallH",0,this.walls);t.scale.setTo(1.5,1);this.walls.setAll("body.immovable",!0)},update:function(){game.physics.arcade.collide(this.player,this.walls);this.movePlayer();this.player.inWorld||this.playerDie();game.physics.arcade.overlap(this.player,this.coin,this.takeCoin,null,this)},movePlayer:function(){this.player.body.velocity.x=this.cursor.left.isDown?-200:this.cursor.right.isDown?200:0;this.cursor.up.isDown&&this.player.body.touching.down&&(this.player.body.velocity.y=-320)},takeCoin:function(){this.score+=3;this.scoreLabel.text="score: "+this.score;this.updateCoinPosition()},updateCoinPosition:function(){for(var i,n=[{x:140,y:60},{x:360,y:60},{x:60,y:140},{x:440,y:140},{x:130,y:300},{x:370,y:300}],t=0;t<n.length;t++)n[t].x==this.coin.x&&n.splice(t,1);i=game.rnd.pick(n);this.coin.reset(i.x,i.y)},playerDie:function(){game.state.start("main")}},game=new Phaser.Game(500,340,Phaser.AUTO,"gameDiv");game.state.add("main",mainState);game.state.start("main");